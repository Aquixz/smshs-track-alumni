<!DOCTYPE html>
<html>
<head>
  <title>My Profile - Alumni Portal</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .avatar-container {
      position: relative;
      width: 150px;
      height: 150px;
      margin: 0 auto 20px;
      cursor: pointer;
      border-radius: 50%;
      overflow: hidden;
      border: 4px solid rgba(255,255,255,0.2);
    }
    .avatar-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .upload-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.7);
      color: white;
      text-align: center;
      padding: 10px;
      font-size: 12px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .avatar-container:hover .upload-overlay {
      opacity: 1;
    }
    .default-avatar {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 60px;
    }
  </style>
</head>
<body class="dashboard-body">

<header class="top-bar">
  <div class="logo-small">
    <img src="sanma.png" alt="Logo">
    <span>San Mateo Senior High School | Alumni</span>
  </div>
  <button class="logout-btn" onclick="location.href='login.html'">Logout</button>
</header>

<div class="dashboard-container">
  <h2>My Profile</h2>
  <p class="subtitle">View and manage your information</p>

  <div id="profileCard" class="profile-card">
    <div id="viewMode">
      <div class="profile-header">
        <div class="avatar-container" onclick="document.getElementById('imageUpload').click()">
          <div id="avatarDisplay" class="default-avatar">üë§</div>
          <img id="profileImage" src="" alt="Profile Picture" class="avatar-img" style="display: none;">
          <div class="upload-overlay">
            <span>üì∑ Change Photo</span>
          </div>
        </div>
        <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
        
        <h3 id="displayName">Loading...</h3>
        <span class="status-badge" id="displayStatus">Alumni</span>
      </div>
      
      <div class="profile-details">
        <div class="detail-section">
          <h4>Personal Information</h4>
          <div class="detail-row">
            <span class="label">Full Name:</span>
            <span class="value" id="viewName">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Age:</span>
            <span class="value" id="viewAge">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Sex:</span>
            <span class="value" id="viewSex">-</span>
          </div>
          <div class="detail-row">
            <span class="label">LRN:</span>
            <span class="value" id="viewLrn">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Email:</span>
            <span class="value" id="viewEmail">-</span>
          </div>
        </div>

        <div class="detail-section">
          <h4>Education Background</h4>
          <div class="detail-row">
            <span class="label">Strand:</span>
            <span class="value" id="viewStrand">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Year Graduated:</span>
            <span class="value" id="viewYear">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Current Status:</span>
            <span class="value" id="viewStatus">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Course Taken:</span>
            <span class="value" id="viewCourse">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Course Aligned:</span>
            <span class="value" id="viewAligned">-</span>
          </div>
        </div>
      </div>
      
      <button onclick="enableEdit()" class="edit-btn">‚úèÔ∏è Edit Profile</button>
    </div>

    <div id="editMode" style="display: none;">
      <h3 style="color: white; margin-bottom: 20px; text-align: center;">Edit Profile</h3>
      
      <label>Last Name</label>
      <input type="text" id="editLastName" placeholder="Last Name">

      <label>First Name</label>
      <input type="text" id="editFirstName" placeholder="First Name">

      <label>Middle Name</label>
      <input type="text" id="editMiddleName" placeholder="Middle Name">

      <label>Age</label>
      <input type="number" id="editAge" placeholder="Age" min="16" max="100">

      <label>Sex</label>
      <div class="radio-group">
        <label class="radio-label"><input type="radio" name="editSex" value="Male"> Male</label>
        <label class="radio-label"><input type="radio" name="editSex" value="Female"> Female</label>
      </div>

      <label>LRN</label>
      <input type="text" id="editLrn" placeholder="LRN" maxlength="12">

      <label>Email</label>
      <input type="email" id="editEmail" placeholder="Email Address">

      <label>Senior High School Strand</label>
      <select id="editStrand">
        <optgroup label="TVL (Technical-Vocational-Livelihood)">
          <option value="programming">TVL - Computer Programming</option>
          <option value="fbs-cookery">TVL - FBS / Cookery</option>
          <option value="animation">TVL - Animation</option>
          <option value="beautycare">TVL - Beauty Care</option>
          <option value="eim">TVL - EIM</option>
        </optgroup>
        <optgroup label="Academic Track">
          <option value="stem">STEM</option>
          <option value="abm">ABM</option>
          <option value="humss">HUMSS</option>
        </optgroup>
      </select>

      <label>Year Graduated</label>
      <select id="editYear">
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
        <option value="2022">2022</option>
        <option value="2023">2023</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
      </select>

      <label>Current Status</label>
      <select id="editStatus" onchange="toggleEditCourse()">
        <option value="currently-enrolled">I am currently enrolled in college</option>
        <option value="completed-college">I have completed college</option>
        <option value="never-pursued">I have never pursued college</option>
      </select>

      <div id="editCourseField">
        <label>Course Taken <small>(If not applicable, write "N/A")</small></label>
        <input type="text" id="editCourse" placeholder="Enter course taken">
      </div>

      <label>Is your college course aligned with your strand?</label>
      <div class="radio-group">
        <label class="radio-label"><input type="radio" name="editAligned" value="Yes, it is aligned"> Yes</label>
        <label class="radio-label"><input type="radio" name="editAligned" value="No, it is not aligned"> No</label>
        <label class="radio-label"><input type="radio" name="editAligned" value="Not applicable"> N/A</label>
      </div>

      <div class="button-group">
        <button onclick="saveProfile()" class="save-btn">üíæ Save Changes</button>
        <button onclick="cancelEdit()" class="cancel-btn">‚ùå Cancel</button>
      </div>
    </div>
  </div>

  <div class="back-link">
    <a href="searchh.html">‚Üê Back to Dashboard</a>
  </div>
</div>

<script src="profile.js"></script>

</body>
</html>